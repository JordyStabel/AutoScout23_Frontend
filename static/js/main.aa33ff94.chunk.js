(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{5423:function(e,t,a){e.exports=a(5582)},5582:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(17),l=a.n(i),c=a(152),o=a(19),s=a(20),m=a(22),u=a(21),d=a(23),h=a(7),p=a(151),g=a(149),f=a(24),E=a(103),b=a(14),v=a(31),y=a.n(v);function k(e){var t=e.inputRef,a=e.onChange,n=Object(E.a)(e,["inputRef","onChange"]);return r.a.createElement(y.a,Object.assign({},n,{getInputRef:t,onValueChange:function(e){a({target:{value:e.value}})},thousandSeparator:!0,allowNegative:!1,prefix:"$"}))}function C(e){var t=e.inputRef,a=e.onChange,n=Object(E.a)(e,["inputRef","onChange"]);return r.a.createElement(y.a,Object.assign({},n,{getInputRef:t,onValueChange:function(e){a({target:{value:e.value}})},thousandSeparator:!0,allowNegative:!1,suffix:" mi"}))}var w=Object(b.withStyles)(function(e){return{"@global":{"html, body, #root":{height:"100%"}}}})(function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state=a.getInitialState(),a.handleChange=function(e){return function(t){var n=t.target.value;a.setState(Object(f.a)({},e,n))}},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"getInitialState",value:function(){var e=this.props.car;return e||{title:"",description:"",make:"",price:""}}},{key:"componentWillReceiveProps",value:function(e){var t=e.car;this.setState(Object(g.a)({},t))}},{key:"render",value:function(){var e=this,t=this.state,a=t.model,n=t.description,i=t.make,l=t.price,c=t.mileage,o=t.image,s=t.carOwner,m=this.props,u=m.classes,d=m.car,p=m.makes,g=m.onSubmit;return r.a.createElement("form",null,r.a.createElement(h.p,{id:"new-car-model-input",label:"Model",value:a,onChange:this.handleChange("model"),margin:"normal",className:u.FormControl,fullWidth:!0}),r.a.createElement("br",null),r.a.createElement(h.h,{id:"new-car-make-select",className:u.FormControl,fullWidth:!0},r.a.createElement(h.j,{htmlFor:"car-makes"},"Make"),r.a.createElement(h.m,{value:i,onChange:this.handleChange("make")},p.map(function(e){return r.a.createElement(h.k,{id:"new-car-make-select-options",key:e,value:e},e)}))),r.a.createElement("br",null),r.a.createElement(h.p,{id:"new-car-owner-input",label:"Car Owner",value:s,onChange:this.handleChange("carOwner"),margin:"normal",className:u.FormControl,fullWidth:!0}),r.a.createElement("br",null),r.a.createElement(h.p,{id:"new-car-price-input",label:"Price $",value:l,onChange:this.handleChange("price"),fullWidth:!0,InputProps:{inputComponent:k}}),r.a.createElement("br",null),r.a.createElement(h.p,{id:"new-car-milage-input",label:"Mileage",value:c,onChange:this.handleChange("mileage"),fullWidth:!0,InputProps:{inputComponent:C}}),r.a.createElement("br",null),r.a.createElement(h.p,{id:"new-car-desciption-input",multiline:!0,rows:"4",label:"Description",value:n,onChange:this.handleChange("description"),className:u.FormControl,fullWidth:!0}),r.a.createElement(h.p,{id:"new-car-imageURL-input",label:"Image URL",value:o,onChange:this.handleChange("image"),margin:"normal",className:u.FormControl,fullWidth:!0}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(h.b,{id:"new-car-submit-button",color:"primary",variant:"raised",onClick:function(){return g(e.state)},fullWidth:!0,disabled:!a||!i||!s||!n},d?"EDIT":"SUBMIT"))}}]),t}(n.Component)),O=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},a.handleToggle=function(){a.setState({open:!a.state.open})},a.handleFormSubmit=function(e){a.handleToggle(),a.props.onCreate(e)},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.open,t=this.props,a=t.categories,i=t.makes;return r.a.createElement(n.Fragment,null,r.a.createElement(h.b,{id:"new-car-button",variant:"fab",onClick:this.handleToggle,mini:!0},r.a.createElement(p.a,null)),r.a.createElement(h.d,{open:e,onClose:this.handleToggle,fullWidth:!0},r.a.createElement(h.g,null,"Sell your car"),r.a.createElement(h.e,null,r.a.createElement(h.f,null,"Please fill out the form below."),r.a.createElement(w,{categories:a,makes:i,onSubmit:this.handleFormSubmit}))))}}]),t}(n.Component),S=a(58),j=a.n(S),x=a(59),N=a.n(x),T=!1;function D(){T=!T}var M=function(e){e.allergies;var t=e.categories,a=e.onCarCreate,n=e.makes;return r.a.createElement(h.a,{position:"static"},r.a.createElement(h.q,null,r.a.createElement(h.r,{variant:"title",color:"inherit",style:{flex:1,marginLeft:20}},"AutoScout23 - Buy & Sell Cars"),r.a.createElement(j.a,{control:r.a.createElement(N.a,{color:"secondary",onChange:D}),label:T?"Light-mode":"Dark-mode"}),r.a.createElement(O,{categories:t,makes:n,onCreate:a})))},F=a(60),I=a.n(F),R=Object(h.s)()(function(e){var t=e.categories,a=e.category,n=e.onSelect,i=(e.onSubmit,e.getCarByMake),l=e.isEmpty,c=a?t.findIndex(function(e){return e===a})+1:0;return r.a.createElement(h.a,{position:"static"},r.a.createElement(h.o,{value:c,onChange:function(e,a){n(0===a?"":t[a-1])},indicatorColor:"secondary",textcolor:"secondary",scrollable:!0,scrollButtons:"on"},r.a.createElement(h.n,{label:"All"}),t.map(function(e){return r.a.createElement(h.n,{key:e,label:e})}),r.a.createElement(h.b,{variant:"extendedFab","aria-label":"Delete",style:{height:"auto",margin:6},disabled:!l,onClick:function(){return i("Porsche")}},r.a.createElement(I.a,null),"PORSCHE")))}),W=a(5),A=a.n(W),P=a(45),L=a.n(P),B=a(62),G=a.n(B),q=a(61),_=a.n(q),J=a(46),U=a.n(J),Y=a(64),$=a.n(Y),V=a(69),z=a.n(V),H=a(26),K=a.n(H),Q=a(18),X=a.n(Q),Z=a(66),ee=a.n(Z),te=a(65),ae=a.n(te),ne=a(67),re=a.n(ne),ie=a(68),le=a.n(ie),ce=a(63),oe=a.n(ce),se=a(100),me=a.n(se),ue=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={expanded:!1},a.handleExpandClick=function(){a.setState(function(e){return{expanded:!e.expanded}})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.props,a=t.car,n=t.onDelete;return r.a.createElement(L.a,{className:e.card},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(L.a,{className:e.imageCard},r.a.createElement(_.a,{className:e.media,image:""!==a.image?a.image:"https://cdn4.iconfinder.com/data/icons/car-silhouettes/1000/sedan-512.png",title:a.make})),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",flexGrow:2}},r.a.createElement("div",{style:{flexGrow:1}},r.a.createElement(G.a,{action:r.a.createElement(K.a,null,r.a.createElement(oe.a,null)),title:a.make+" "+a.model,subheader:r.a.createElement(y.a,{value:a.created,displayType:"text",format:"####/##/##",renderText:function(e){return r.a.createElement("p",{style:{margin:0}},e)}})})),r.a.createElement("div",{style:{flexGrow:2}},r.a.createElement(U.a,null,r.a.createElement(y.a,{value:a.price,displayType:"text",thousandSeparator:!0,prefix:"Price: $",suffix:",-",renderText:function(e){return r.a.createElement(X.a,{variant:"title",gutterBottom:!0},e)}}),r.a.createElement(y.a,{value:a.mileage,displayType:"text",thousandSeparator:!0,prefix:"Mileage: ",suffix:" mi",renderText:function(e){return r.a.createElement(X.a,{variant:"title",gutterBottom:!0},e)}}))),r.a.createElement("div",{style:{flexGrow:1}},r.a.createElement($.a,{className:e.actions,disableActionSpacing:!0},r.a.createElement(me.a,{variant:"contained",color:"primary",className:e.button},r.a.createElement(ae.a,{className:e.leftIcon}),"Buy this car!"),r.a.createElement(K.a,{"aria-label":"Add to favorites"},r.a.createElement(ee.a,null)),r.a.createElement(K.a,{"aria-label":"Delete",onClick:function(){return n(a.id)}},r.a.createElement(re.a,null)),r.a.createElement(K.a,{className:A()(e.expand,Object(f.a)({},e.expandOpen,this.state.expanded)),onClick:this.handleExpandClick,"aria-expanded":this.state.expanded,"aria-label":"Show more"},r.a.createElement(le.a,null)))))),r.a.createElement(z.a,{in:this.state.expanded,timeout:"auto",unmountOnExit:!0},r.a.createElement(U.a,null,r.a.createElement(X.a,{variant:"title",paragraph:!0},"Description"),r.a.createElement(X.a,{paragraph:!0},a.description),r.a.createElement(X.a,{paragraph:!0},"Lorem ipsum dolor sit amet, sed id diam donec suspendisse diam aenean, arcu nulla tortor fusce, suscipit arcu consequat in eu, dictum orci et metus odio. Adipiscing augue dignissim pede, ut tortor, justo ut, lorem justo tincidunt sed et integer. Convallis et phasellus tellus adipiscing, gravida ac donec turpis nisl aenean, proin et a sed vestibulum, in dolor, volutpat rerum. Est vel nam at ridiculus convallis vitae. Ipsum ut, duis sagittis integer ut nec ullamcorper, tellus aliquam nobis, eget velit luctus libero curabitur tortor vitae. Phasellus urna dui, ultricies dignissim est pretium, pretium adipiscing odio a, vel lorem pellentesque, mauris mauris mauris velit ligula leo."))))}}]),t}(r.a.Component),de=Object(b.withStyles)(function(e){return{card:{width:"100%",marginTop:15,marginLeft:"auto"},media:{paddingTop:"55%",overflow:"hidden"},imageCard:{width:500},actions:{display:"flex"},expand:Object(f.a)({transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),marginLeft:"auto"},e.breakpoints.up("sm"),{marginRight:-8}),leftIcon:{marginRight:e.spacing.unit},expandOpen:{transform:"rotate(180deg)"}}})(ue),he=Object(b.withStyles)(function(e){return{categoryWrapper:{padding:20,height:"auto",margin:10,overflowY:"auto"},"@global":{"html, body, #root":{height:"100%"}},container:{height:"100%",overflowY:"auto"},button:{margin:e.spacing.unit},extendedIcon:{marginRight:e.spacing.unit},avatar:{margin:5}}})(function(e){var t=e.classes,a=e.cars,i=(e.category,e.onSelect,e.onDelete);return r.a.createElement(h.i,{container:!0,className:t.container},r.a.createElement(h.i,{item:!0,xs:12},r.a.createElement(h.l,{className:t.categoryWrapper,id:"car-content-grid"},r.a.createElement(n.Fragment,null,r.a.createElement(h.r,{variant:"headline"},"Second hand cars"),a.map(function(e,t){e.make,e.model,e.mileage,e.price,e.created,e.carID;return r.a.createElement(de,{key:t,car:a[t],onDelete:i})})))))}),pe=a(102),ge=a.n(pe),fe=a(101),Ee=a.n(fe),be=Object(b.withStyles)(function(e){return{FormControl:{},"@global":{"html, body, #root":{height:"100%"}},paper:{padding:20,margin:10},container:{height:"100%",overflowY:"auto"}}})(function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state=a.props,a.handleChange=function(e){return function(t){var n=t.target.value;a.setState(Object(f.a)({},e,n))}},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state.make,a=this.props,n=a.classes,i=a.makes,l=a.onSearch,c=a.onResetFilter;return r.a.createElement("div",{className:n.container},r.a.createElement(h.l,{className:n.paper},r.a.createElement(Ee.a,{variant:"headline",align:"center",style:{margin:25}},"Filter by Make"),r.a.createElement(h.j,{htmlFor:"makes"},"Car Make"),r.a.createElement(h.h,{id:"filter-car-make-select",className:n.FormControl,fullWidth:!0},r.a.createElement(h.m,{value:this.state.make,onChange:this.handleChange("make")},i.map(function(e){return r.a.createElement(ge.a,{value:e,id:"car-make-select-options"},e)}))),r.a.createElement(h.b,{id:"car-make-search-button",color:"primary",variant:"raised",onClick:function(){return l(e.state.make)},fullWidth:!0,disabled:!t,style:{marginTop:15}},null==t?"Select make":"Search"),r.a.createElement(h.b,{size:"small",color:"primary",variant:"outlined",onClick:function(){return c()},fullWidth:!0,style:{marginTop:15}},"RESET FILTER")))}}]),t}(n.Component)),ve="https://autoscout23.herokuapp.com",ye=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={cars:[],car:{},makes:[],makeNames:[],categoryNames:["Sports Cars"],categories:[],editMode:!1,isLoaded:!1},a.fetchCarData=function(){fetch(ve+"/get-all-cars").then(function(e){return e.json()}).then(function(e){return e.list.map(function(e){return{id:e.carID,make:e.make,model:e.model,carOwner:e.carOwner,mileage:e.mileage,price:e.price,description:e.description,created:e.date_created,updated:e.date_updated,image:e.image}},console.log(e))}).then(function(e){return a.setState({cars:e})}).catch(function(e){return console.log("There was an error during: 'fetchCarData'",e)})},a.fetchCarOfMake=function(e){fetch(ve+"/car-make/"+e).then(function(e){return e.json()}).then(function(e){return e.list.map(function(e){return{id:e.carID,make:e.make,model:e.model,carOwner:e.carOwner,mileage:e.mileage,price:e.price,created:e.date_created,updated:e.date_updated,image:e.image}})}).then(function(e){return a.setState({cars:e})}).catch(function(e){return console.log("There was an error during: 'fetchCarOfMake'",e)})},a.handleSubmitCar=function(e){console.log("Fired"),console.log(e);var t={id:"",make:e.make,model:e.model,mileage:e.mileage,carOwner:e.carOwner,description:e.description,price:e.price,image:e.image};fetch(ve+"/new-car",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({make:e.make,model:e.model,mileage:e.mileage,carOwner:e.carOwner,description:e.description,price:e.price,image:null==e.image?"":e.image})}),console.log(t),a.setState(function(e){var a=e.cars;return{cars:[].concat(Object(c.a)(a),[t])}})},a.handleCategorySelect=function(e){a.setState({category:e})},a.handleCarDelete=function(e){fetch(ve+"/car-delete/"+e,{method:"DELETE"}),a.setState(function(t){var a=t.cars,n=t.car,r=t.editMode;return{cars:a.filter(function(t){return t.id!==e}),editMode:n.id!==e&&r,car:n.id===e?{}:n}})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this.fetchCarData(),this.fetchMakeData()}},{key:"fetchMakeData",value:function(){var e=this;fetch(ve+"/get-all-makes").then(function(e){return e.json()}).then(function(e){return e.list.map(function(e){return{id:e.id,make:e.make}})}).then(function(t){return e.setState({makes:t,makeNames:t.map(function(e){return e.make})})}).catch(function(e){return console.log("There was an error during: 'fetchMakeData'",e)})}},{key:"render",value:function(){var e=this.state.cars,t=this.state,a=t.category,i=t.editMode;return r.a.createElement(n.Fragment,null,r.a.createElement(h.c,null),r.a.createElement(M,{makes:this.state.makeNames,categories:this.state.categoryNames,onCarCreate:this.handleSubmitCar,toggleShowAll:this.handleToggleShowAll}),r.a.createElement("div",{style:{display:"flex",alignItems:"stretch",height:"calc(100% - 64px - 48px)"}},r.a.createElement("div",{style:{flexGrow:1,width:"25%"}},r.a.createElement(be,{makes:this.state.makeNames,categories:this.categoryNames,onSearch:this.fetchCarOfMake,onResetFilter:this.fetchCarData})),r.a.createElement("div",{style:{flexGrow:2,width:"75%"}},r.a.createElement(he,{cars:e,category:a,editMode:i,onSelect:this.handleCarSelect,onDelete:this.handleCarDelete}))),r.a.createElement(R,{categories:this.state.makeNames,category:a,onSelect:this.handleCategorySelect,onSubmit:this.handleSubmitCar,getCarByMake:this.fetchCarOfMake}))}}]),t}(n.Component),ke=a(30),Ce=Object(b.createMuiTheme)({palette:{type:"light",primary:ke.orange,secondary:{main:ke.grey[50],light:ke.grey[50],dark:ke.grey[50]}}});l.a.render(r.a.createElement(b.MuiThemeProvider,{theme:Ce},r.a.createElement(ye,{changeTheme:Ce})),document.getElementById("root"))}},[[5423,2,1]]]);
//# sourceMappingURL=main.aa33ff94.chunk.js.map